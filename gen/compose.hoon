/+  smart=zig-sys-smart
/*  smart-lib  %noun  /lib/zig/compiled/smart-lib-testing/noun
:-  %say
|=  [[now=@da eny=@uvJ bek=beak] [=wheat:smart ~] ~]
~&  >>>  wheat
::  goal: to take a bat=* and payload=(list *) and produce runnable nock
=/  cont  (need cont.wheat)
=/  start=*  (cue q.q.smart-lib)
=/  payload=*
  [(snag 0 pay.cont) start]
=/  triv=contract:smart
  !<(contract:smart [-:!>(*contract:smart) [bat.cont payload]])
:-  %noun
^-  chick:smart
(~(write triv *cart:smart) *embryo:smart)
